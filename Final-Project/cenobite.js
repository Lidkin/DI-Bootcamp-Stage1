!function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[s]={exports:{}};e[s][0].call(h.exports,(function(t){return r(e[s][1][t]||t)}),h,h.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){const{canvasSketch:i}=t("canvas-sketch"),{mapRange:r}=t("canvas-sketch-util/math"),{rangeFloor:o}=t("canvas-sketch-util/random"),s={dimensions:[1080,1080],animate:!0};let a,c,u,h,p,f,l,d,m,y,g,v;const w=[],b=[],x=[],M=270/61;const _=({width:t,height:e})=>{let n,i,s,a=.5*t-15,c=.5*e+10,p=1,l=1;const m=Math.floor(t/128),y=Math.floor(t/m),_=y*Math.floor(e/m),E=document.createElement("canvas").getContext("2d");E.width=d.width,E.height=d.height,E.drawImage(d,0,0);const F=E.getImageData(0,0,d.width,d.height).data;for(let t=0;t<_;t++)g=o(4,128),x.push(g);for(let r=0;r<_;r++){let o,a,c,u,h,p,f,l=r%y,g=Math.floor(r/y);o=Math.floor(n/t*d.width),a=Math.floor(i/e*d.height),c=4*(a*d.width+o),u=F[c+0],h=F[c+1],p=F[c+2],f=`rgb(${u}, ${h}, ${p})`,n=l*m,i=g*m,s=new P({x:n,y:i,cell:m,colA:f}),b.push(s)}for(let t=0;t<4;t++){1==t&&(p=-1,l=1),2==t&&(p=1,l=-1),3==t&&(p=-1,l=-1);for(let t=0;t<4;t++){let e=50*t+50*(1-t*t*.5/10);0==t&&(e=35);for(let n=0;n<M;n++){let i=61*n+36.6*(1-t*t*.8/10);0==n&&(i=61*n+36.6*(1-t*t*.3/10));const o=i*l+c,s=e*p+a,u=T(s,o,a);let h=Math.hypot(a-s,c-o),f=r(h,0,310,0,o>.7*c&&o<1.5*c&&s>.85*a&&s<1.15*a?50:150);if(o>c+50&&o<650&&s>a-50&&s<a+50)continue;if(o>750&&o<800&&s>a-50&&s<a+50)continue;if(o>800&&3==t&&(s<350||s>700))continue;if(o>290&&o<300&&(s<350||s>700))continue;let d=new k({x:s,y:o,color:u,maxLength:f});w.push(d)}}}for(let t=0;t<4;t++){let e,n;p=1,l=1,1==t&&(p=1,l=-1,c+=-30),2==t&&(p=1,l=-1),3==t&&(p=1,l=-1,c+=40);for(let t=0;t<4+M;t++){const i=.5*Math.PI/(4+M)*t+47.5*Math.PI/180,o=350*Math.sin(i)*l+c,s=(o>c?285*Math.cos(i):295*Math.cos(i))*p+a,u=T(s,o,a);let h=Math.hypot(a-s,c-o);s>a?(e=o>c?175:160,n=o>c?125:110):(e=o>c?170:155,n=o>c?120:105);let f=r(h,300,350,e,n);if(o>c&&o<800)continue;let d=new k({x:s,y:o,color:u,maxLength:f});w.push(d)}}for(let t=0;t<2;t++){let e,n;p=-1,l=1,1==t&&(p=1,l=-1);for(let t=0;t<4+M;t++){const i=.4*Math.PI/(4+M)*t-33.95*Math.PI/180,o=230*Math.cos(i),s=490*Math.sin(i),u=o*p+a,h=s*l+c,f=T(u,h,a);let d=Math.hypot(a-u,c-h);u>a?(n=h<c?150:130,e=h<c?75:25):(n=h<c?140:110,e=h<c?70:20);let m=r(d,200,400,n,e),y=new k({x:u,y:h,color:f,maxLength:m});w.push(y)}}return w.sort((function(t,e){return t.y<c?t.y<e.y?-1:t.y>e.y?1:t.x<e.x?-1:t.x>e.x?1:0:t.y>e.y?-1:t.y<e.y?1:t.x<e.x?-1:t.x>e.x?1:0})),({context:t,width:e,height:n})=>{t.fillStyle="black",t.fillRect(0,0,e,n),t.drawImage(d,0,0),u&&(f.getFloatFrequencyData(h),v=0,w.forEach((e=>{e.update(a,c,h),e.draw(t),v++})))}},T=(t,e,n)=>{let i=Math.hypot(n+100-t,n-e);return`rgb(${t<n-100?r(i,0,500,255,0):r(i,20,400,255,50)}, 0, 0)`},E=()=>{a=document.createElement("audio"),a.crossOrigin="anonymous",a.src="https://cdn.pixabay.com/download/audio/2022/07/23/audio_eec2f9db1e.mp3?filename=dramatic-horror-cinematic-epic-trailer-action-intro-opener-115496.mp3",u=new AudioContext,p=u.createMediaElementSource(a),p.connect(u.destination),f=u.createAnalyser(),f.fftSize=512,f.smoothingTimeConstant=.85,p.connect(f),y=f.minDecibels,m=f.maxDecibels,l=f.frequencyBinCount,h=new Float32Array(l)};(async()=>{d=await(async t=>new Promise(((e,n)=>{const i=new Image;i.onload=()=>e(i),i.onerror=()=>n(),i.src=t})))("cenobite/bwFace1.png"),c=await i(_,s),window.addEventListener("mouseup",(()=>{u||E(),a.paused?(a.play(),c.play()):(a.pause(),c.pause())})),c.pause()})();class k{constructor({x:t,y:e,color:n,maxLength:i}){this.x=t,this.y=e,this.color=n,this.baseColor=n,this.maxColor=n,this.coeffGrd=.8,this.maxLength=i,this.radius=0,this.lenght=0,this.angle=0,this.x1=0,this.x2=0,this.y1=0,this.y2=0,this.tornX=0,this.tornY=0}update(t,e,n){let i,o,s,a,c=this.y-e,u=Math.hypot(this.x-t,c),h=y-50,p=m+10;a=r(u,0,400,6.5,this.y>.8*e&&this.y<1.5*e&&this.x>.7*t&&this.x<1.3*t?4:2.5,!0),console.log(u,a);let f=n[v];f<=h&&(f=h),f>=p&&(f=p);let l=r(f,h,p,0,1,!0);this.x<t&&this.y<e&&(i=Math.PI,o=-1,s=1),this.x<t&&this.y>e&&(i=Math.PI,o=-1,s=1),this.x>t&&this.y<e&&(i=0,o=1,s=-1),this.x>t&&this.y>e&&(i=0,o=1,s=-1),this.angle=Math.asin(c/u),this.lenght=this.maxLength*l,this.radius=r(this.lenght,0,this.maxLength,0,a,!0);const d=this.color.match(/\(([^,\s]+)/);let g=d[1]-25<0?0:d[1]-25,w=d[1]+150>255?255:d[1]+150;this.lenght>=.7*this.maxLength&&(this.coeffGrd=.3,w<=150&&(w=r(w,0,150,200,255,!0))),this.baseColor=0!=g?this.baseColor.replace(/\(([^,\s]+),/,`(${g},`):"Maroon",this.maxColor=255!=w?this.maxColor.replace(/\(([^,\s]+),/,`(${w},`):"MistyRose",this.x1=this.x-Math.cos(s*this.angle+.5*Math.PI)*this.radius,this.y1=this.y+Math.sin(s*this.angle+.5*Math.PI)*this.radius,this.x2=this.x+Math.cos(s*this.angle+.5*Math.PI)*this.radius,this.y2=this.y-Math.sin(s*this.angle+.5*Math.PI)*this.radius,this.tornX=this.x+Math.cos(this.angle+i)*this.lenght,this.tornY=this.y+o*Math.sin(this.angle+i)*this.lenght}draw(t){let e=t.createLinearGradient(this.x,this.y,this.tornX,this.tornY);t.save(),e.addColorStop(0,this.baseColor),e.addColorStop(this.coeffGrd,this.color),e.addColorStop(1,this.maxColor),t.fillStyle=e,t.beginPath(),t.moveTo(this.x1,this.y1),t.lineTo(this.tornX,this.tornY),t.lineTo(this.x2,this.y2),t.closePath(),t.fill(),t.arc(this.x,this.y,this.radius,this.angle,2*Math.PI+this.angle),t.fill(),t.restore()}}class P{constructor({x:t,y:e,cell:n,colA:i}){this.x=t,this.y=e,this.cell=n,this.color=i,this.radius=.4*this.cell}faceDraw(t){t.save(),t.translate(this.x+.5*this.cell,this.y+.5*this.cell),t.fillStyle=this.color,t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI),t.fill(),t.restore()}}},{"canvas-sketch":5,"canvas-sketch-util/math":3,"canvas-sketch-util/random":4}],2:[function(t,e,n){e.exports=function(t,e,n){if("number"!=typeof e||"number"!=typeof n)throw new TypeError('Must specify "to" and "from" arguments as numbers');if(e>n){var i=e;e=n,n=i}var r=n-e;if(0===r)return n;return t-r*Math.floor((t-e)/r)}},{}],3:[function(t,e,n){var i=t("defined"),r=t("./lib/wrap"),o=Number.EPSILON;function s(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t}function a(t,e,n){return t*(1-n)+e*n}function c(t,e,n){return Math.abs(t-e)<o?0:(n-t)/(e-t)}function u(t,e){return e=i(e,0),"number"==typeof t&&isFinite(t)?t:e}function h(t){if("number"!=typeof t)throw new TypeError("Expected dims argument");return function(e,n){var r;n=i(n,0),null==e?r=n:"number"==typeof e&&isFinite(e)&&(r=e);var o,s=[];if(null==r)for(o=0;o<t;o++)s[o]=u(e[o],n);else for(o=0;o<t;o++)s[o]=r;return s}}function p(t,e,n,i){if(i=i||[],t.length!==e.length)throw new TypeError("min and max array are expected to have the same length");for(var r=0;r<t.length;r++)i[r]=a(t[r],e[r],n);return i}function f(t,e){if("number"!=typeof(t=i(t,0)))throw new TypeError("Expected n argument to be a number");for(var n=[],r=0;r<t;r++)n.push(e);return n}function l(t,e){return(t%e+e)%e}function d(t,e,n,i){return a(t,e,1-Math.exp(-n*i))}e.exports={mod:l,fract:function(t){return t-Math.floor(t)},sign:function(t){return t>0?1:t<0?-1:0},degToRad:function(t){return t*Math.PI/180},radToDeg:function(t){return 180*t/Math.PI},wrap:r,pingPong:function(t,e){return t=l(t,2*e),e-Math.abs(t-e)},linspace:function(t,e){if("number"!=typeof(t=i(t,0)))throw new TypeError("Expected n argument to be a number");"boolean"==typeof(e=e||{})&&(e={endpoint:!0});var n=i(e.offset,0);return e.endpoint?f(t).map((function(e,i){return t<=1?0:(i+n)/(t-1)})):f(t).map((function(e,i){return(i+n)/t}))},lerp:a,lerpArray:p,inverseLerp:c,lerpFrames:function(t,e,n){e=s(e,0,1);var i=t.length-1,r=e*i,o=Math.floor(r),c=r-o,u=Math.min(o+1,i),h=t[o%t.length],f=t[u%t.length];if("number"==typeof h&&"number"==typeof f)return a(h,f,c);if(Array.isArray(h)&&Array.isArray(f))return p(h,f,c,n);throw new TypeError("Mismatch in value type of two array elements: "+o+" and "+u)},clamp:s,clamp01:function(t){return s(t,0,1)},smoothstep:function(t,e,n){var i=s(c(t,e,n),0,1);return i*i*(3-2*i)},damp:d,dampArray:function(t,e,n,i,r){r=r||[];for(var o=0;o<t.length;o++)r[o]=d(t[o],e[o],n,i);return r},mapRange:function(t,e,n,i,r,s){if(Math.abs(e-n)<o)return i;var a=(t-e)/(n-e)*(r-i)+i;return s&&(r<i?a<r?a=r:a>i&&(a=i):a>r?a=r:a<i&&(a=i)),a},expand2D:h(2),expand3D:h(3),expand4D:h(4)}},{"./lib/wrap":2,defined:6}],4:[function(t,e,n){var i=t("seed-random"),r=t("simplex-noise"),o=t("defined");e.exports=function t(e){e=o(e,null);var n,s,a,c=Math.random,u=null,h=!1;return p(e),{value:f,createRandom:function(e){return t(e)},setSeed:p,getSeed:function(){return n},getRandomSeed:function(){return String(Math.floor(1e6*Math.random()))},valueNonZero:function(){var t=0;for(;0===t;)t=f();return t},permuteNoise:function(){a=l()},noise1D:function(t,e,n){if(!isFinite(t))throw new TypeError("x component for noise() must be finite");return e=o(e,1),(n=o(n,1))*a.noise2D(t*e,0)},noise2D:function(t,e,n,i){if(!isFinite(t))throw new TypeError("x component for noise() must be finite");if(!isFinite(e))throw new TypeError("y component for noise() must be finite");return n=o(n,1),(i=o(i,1))*a.noise2D(t*n,e*n)},noise3D:function(t,e,n,i,r){if(!isFinite(t))throw new TypeError("x component for noise() must be finite");if(!isFinite(e))throw new TypeError("y component for noise() must be finite");if(!isFinite(n))throw new TypeError("z component for noise() must be finite");return i=o(i,1),(r=o(r,1))*a.noise3D(t*i,e*i,n*i)},noise4D:function(t,e,n,i,r,s){if(!isFinite(t))throw new TypeError("x component for noise() must be finite");if(!isFinite(e))throw new TypeError("y component for noise() must be finite");if(!isFinite(n))throw new TypeError("z component for noise() must be finite");if(!isFinite(i))throw new TypeError("w component for noise() must be finite");return r=o(r,1),(s=o(s,1))*a.noise4D(t*r,e*r,n*r,i*r)},sign:function(){return d()?1:-1},boolean:d,chance:function(t){if("number"!=typeof(t=o(t,.5)))throw new TypeError("expected n to be a number");return f()<t},range:m,rangeFloor:y,pick:function(t){return 0===t.length?void 0:t[y(0,t.length)]},shuffle:function(t){if(!Array.isArray(t))throw new TypeError("Expected Array, got "+typeof t);var e,n,i=t.length,r=t.slice();for(;i;)e=Math.floor(f()*i--),n=r[i],r[i]=r[e],r[e]=n;return r},onCircle:g,insideCircle:function(t,e){t=o(t,1),g(1,e=e||[]);var n=t*Math.sqrt(f());return e[0]*=n,e[1]*=n,e},onSphere:function(t,e){t=o(t,1),e=e||[];var n=f()*Math.PI*2,i=2*f()-1,r=n,s=Math.acos(i);return e[0]=t*Math.sin(s)*Math.cos(r),e[1]=t*Math.sin(s)*Math.sin(r),e[2]=t*Math.cos(s),e},insideSphere:function(t,e){t=o(t,1),e=e||[];var n=f()*Math.PI*2,i=2*f()-1,r=f(),s=n,a=Math.acos(i),c=t*Math.cbrt(r);return e[0]=c*Math.sin(a)*Math.cos(s),e[1]=c*Math.sin(a)*Math.sin(s),e[2]=c*Math.cos(a),e},quaternion:function(t){t=t||[];var e=f(),n=f(),i=f(),r=Math.sqrt(1-e),o=Math.sqrt(e),s=2*Math.PI*n,a=2*Math.PI*i,c=Math.sin(s)*r,u=Math.cos(s)*r,h=Math.sin(a)*o,p=Math.cos(a)*o;return t[0]=c,t[1]=u,t[2]=h,t[3]=p,t},weighted:w,weightedSet:function(t){return 0===(t=t||[]).length?null:t[v(t)].value},weightedSetIndex:v,gaussian:function(t,e){if(t=o(t,0),e=o(e,1),h){h=!1;var n=u;return u=null,t+e*n}var i=0,r=0,s=0;do{s=(i=2*f()-1)*i+(r=2*f()-1)*r}while(s>=1||0===s);var a=Math.sqrt(-2*Math.log(s)/s);return u=r*a,h=!0,t+e*(i*a)}};function p(t,e){"number"==typeof t||"string"==typeof t?s=i(n=t,e):(n=void 0,s=c),a=l(),u=null,h=!1}function f(){return s()}function l(){return new r(s)}function d(){return f()>.5}function m(t,e){if(void 0===e&&(e=t,t=0),"number"!=typeof t||"number"!=typeof e)throw new TypeError("Expected all arguments to be numbers");return f()*(e-t)+t}function y(t,e){if(void 0===e&&(e=t,t=0),"number"!=typeof t||"number"!=typeof e)throw new TypeError("Expected all arguments to be numbers");return Math.floor(m(t,e))}function g(t,e){t=o(t,1),e=e||[];var n=2*f()*Math.PI;return e[0]=t*Math.cos(n),e[1]=t*Math.sin(n),e}function v(t){return 0===(t=t||[]).length?-1:w(t.map((function(t){return t.weight})))}function w(t){if(0===(t=t||[]).length)return-1;var e,n=0;for(e=0;e<t.length;e++)n+=t[e];if(n<=0)throw new Error("Weights must sum to > 0");var i=f()*n;for(e=0;e<t.length;e++){if(i<t[e])return e;i-=t[e]}return 0}}()},{defined:6,"seed-random":7,"simplex-noise":8}],5:[function(t,e,n){(function(t){(function(){!function(t,i){"object"==typeof n&&void 0!==e?e.exports=i():"function"==typeof define&&define.amd?define(i):t.canvasSketch=i()}(this,(function(){var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var r=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,r){for(var o,s,a=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var u in o=Object(arguments[c]))n.call(o,u)&&(a[u]=o[u]);if(e){s=e(o);for(var h=0;h<s.length;h++)i.call(o,s[h])&&(a[s[h]]=o[s[h]])}}return a},o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function s(t,e){return t(e={exports:{}},e.exports),e.exports}var a=o.performance&&o.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date},c=function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then};var u=function(t){return!(!t||"object"!=typeof t)&&("object"==typeof window&&"object"==typeof window.Node?t instanceof window.Node:"number"==typeof t.nodeType&&"string"==typeof t.nodeName)};function h(){return"undefined"!=typeof window&&window["canvas-sketch-cli"]}function p(){for(var t=arguments,e=0;e<arguments.length;e++)if(null!=t[e])return t[e]}function f(){return"undefined"!=typeof document}function l(t){return t&&"function"==typeof t.save&&"function"==typeof t.scale&&"function"==typeof t.restore}var d,m=s((function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n})),y=s((function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?i:r).supported=i,e.unsupported=r})),g=s((function(t){var e=Array.prototype.slice,n=t.exports=function(t,o,s){return s||(s={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?s.strict?t===o:t==o:function(t,o,s){var a,c;if(i(t)||i(o))return!1;if(t.prototype!==o.prototype)return!1;if(y(t))return!!y(o)&&(t=e.call(t),o=e.call(o),n(t,o,s));if(r(t)){if(!r(o))return!1;if(t.length!==o.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==o[a])return!1;return!0}try{var u=m(t),h=m(o)}catch(t){return!1}if(u.length!=h.length)return!1;for(u.sort(),h.sort(),a=u.length-1;a>=0;a--)if(u[a]!=h[a])return!1;for(a=u.length-1;a>=0;a--)if(!n(t[c=u[a]],o[c],s))return!1;return typeof t==typeof o}(t,o,s))};function i(t){return null==t}function r(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}})),v=s((function(t,e){!function(e){var n,i,r,o=(n=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,i=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g,function(t,e,a,c){if(1!==arguments.length||"string"!==(null===(u=t)?"null":void 0===u?"undefined":"object"!=typeof u?typeof u:Array.isArray(u)?"array":{}.toString.call(u).slice(8,-1).toLowerCase())||/\d/.test(t)||(e=t,t=void 0),(t=t||new Date)instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");var u,h=(e=String(o.masks[e]||e||o.masks.default)).slice(0,4);"UTC:"!==h&&"GMT:"!==h||(e=e.slice(4),a=!0,"GMT:"===h&&(c=!0));var p=a?"getUTC":"get",f=t[p+"Date"](),l=t[p+"Day"](),d=t[p+"Month"](),m=t[p+"FullYear"](),y=t[p+"Hours"](),g=t[p+"Minutes"](),v=t[p+"Seconds"](),w=t[p+"Milliseconds"](),b=a?0:t.getTimezoneOffset(),x=function(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var i=e.getTimezoneOffset()-n.getTimezoneOffset();return e.setHours(e.getHours()-i),1+Math.floor((e-n)/6048e5)}(t),M=function(t){var e=t.getDay();return 0===e&&(e=7),e}(t),_={d:f,dd:s(f),ddd:o.i18n.dayNames[l],dddd:o.i18n.dayNames[l+7],m:d+1,mm:s(d+1),mmm:o.i18n.monthNames[d],mmmm:o.i18n.monthNames[d+12],yy:String(m).slice(2),yyyy:m,h:y%12||12,hh:s(y%12||12),H:y,HH:s(y),M:g,MM:s(g),s:v,ss:s(v),l:s(w,3),L:s(Math.round(w/10)),t:y<12?o.i18n.timeNames[0]:o.i18n.timeNames[1],tt:y<12?o.i18n.timeNames[2]:o.i18n.timeNames[3],T:y<12?o.i18n.timeNames[4]:o.i18n.timeNames[5],TT:y<12?o.i18n.timeNames[6]:o.i18n.timeNames[7],Z:c?"GMT":a?"UTC":(String(t).match(i)||[""]).pop().replace(r,""),o:(b>0?"-":"+")+s(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),S:["th","st","nd","rd"][f%10>3?0:(f%100-f%10!=10)*f%10],W:x,N:M};return e.replace(n,(function(t){return t in _?_[t]:t.slice(1,t.length-1)}))});function s(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}o.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},o.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},t.exports=o}()})),w="",b=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var n=t.length*e;if(d!==t||void 0===d)d=t,w="";else if(w.length>=n)return w.substr(0,n);for(;n>w.length&&e>1;)1&e&&(w+=t),e>>=1,t+=t;return w=(w+=t).substr(0,n)};var x,M=function(t,e,n){return t=t.toString(),void 0===e?t:(n=0===n?"0":n?n.toString():" ",b(n,e-t.length)+t)},_=function(){},T={extension:"",prefix:"",suffix:""},E=["image/png","image/jpeg","image/webp"];function k(t,e){return void 0===e&&(e={}),new Promise((function(n,i){e=r({},T,e);var o=S(Object.assign({},e,{extension:"",frame:void 0})),s=t?"streamStart":"streamEnd",a=h();return a&&a.output&&"function"==typeof a[s]?a[s](r({},e,{filename:o})).then((function(t){return n(t)})):n({filename:o,client:!1})}))}function P(t,e){return void 0===e&&(e={}),function(t){return new Promise((function(e){var n=t.indexOf(",");if(-1!==n){for(var i=t.slice(n+1),r=window.atob(i),o=t.slice(0,n),s=/data:([^;]+)/.exec(o),a=(s?s[1]:"")||void 0,c=new ArrayBuffer(r.length),u=new Uint8Array(c),h=0;h<r.length;h++)u[h]=r.charCodeAt(h);e(new window.Blob([c],{type:a}))}else e(new window.Blob)}))}(t).then((function(t){return F(t,e)}))}function F(t,e){return void 0===e&&(e={}),new Promise((function(n){var i=(e=r({},T,e)).filename,o=h();if(o&&"function"==typeof o.saveBlob&&o.output)return o.saveBlob(t,r({},e,{filename:i})).then((function(t){return n(t)}));x||((x=document.createElement("a")).style.visibility="hidden",x.target="_blank"),x.download=i,x.href=window.URL.createObjectURL(t),document.body.appendChild(x),x.onclick=function(){x.onclick=_,setTimeout((function(){window.URL.revokeObjectURL(t),x.parentElement&&x.parentElement.removeChild(x),x.removeAttribute("href"),n({filename:i,client:!1})}))},x.click()}))}function S(t){if(void 0===t&&(t={}),"function"==typeof(t=r({},t)).file)return t.file(t);if(t.file)return t.file;var e,n=null,i="";("string"==typeof t.extension&&(i=t.extension),"number"==typeof t.frame)&&(e="number"==typeof t.totalFrames?t.totalFrames:Math.max(1e4,t.frame),n=M(String(t.frame),String(e).length,"0"));var o=isFinite(t.totalLayers)&&isFinite(t.layer)&&t.totalLayers>1?""+t.layer:"";return null!=n?[o,n].filter(Boolean).join("-")+i:[t.prefix,t.name||t.timeStamp,o,t.hash,t.suffix].filter(Boolean).join("-")+i}var C={dimension:"dimensions",animated:"animate",animating:"animate",unit:"units",P5:"p5",pixellated:"pixelated",looping:"loop",pixelPerInch:"pixels"},R=["dimensions","units","pixelsPerInch","orientation","scaleToFit","scaleToView","bleed","pixelRatio","exportPixelRatio","maxPixelRatio","scaleContext","resizeCanvas","styleCanvas","canvas","context","attributes","parent","file","name","prefix","suffix","animate","playing","loop","duration","totalFrames","fps","playbackRate","timeScale","frame","time","flush","pixelated","hotkeys","p5","id","scaleToFitPadding","data","params","encoding","encodingQuality"],j=function(t){Object.keys(t).forEach((function(t){t in C?console.warn('[canvas-sketch] Could not recognize the setting "'+t+'", did you mean "'+C[t]+'"?'):R.includes(t)||console.warn('[canvas-sketch] Could not recognize the setting "'+t+'"')}))};var D=[["postcard",101.6,152.4],["poster-small",280,430],["poster",460,610],["poster-large",610,910],["business-card",50.8,88.9],["2r",64,89],["3r",89,127],["4r",102,152],["5r",127,178],["6r",152,203],["8r",203,254],["10r",254,305],["11r",279,356],["12r",305,381],["a0",841,1189],["a1",594,841],["a2",420,594],["a3",297,420],["a4",210,297],["a5",148,210],["a6",105,148],["a7",74,105],["a8",52,74],["a9",37,52],["a10",26,37],["2a0",1189,1682],["4a0",1682,2378],["b0",1e3,1414],["b1",707,1e3],["b1+",720,1020],["b2",500,707],["b2+",520,720],["b3",353,500],["b4",250,353],["b5",176,250],["b6",125,176],["b7",88,125],["b8",62,88],["b9",44,62],["b10",31,44],["b11",22,32],["b12",16,22],["c0",917,1297],["c1",648,917],["c2",458,648],["c3",324,458],["c4",229,324],["c5",162,229],["c6",114,162],["c7",81,114],["c8",57,81],["c9",40,57],["c10",28,40],["c11",22,32],["c12",16,22],["half-letter",5.5,8.5,"in"],["letter",8.5,11,"in"],["legal",8.5,14,"in"],["junior-legal",5,8,"in"],["ledger",11,17,"in"],["tabloid",11,17,"in"],["ansi-a",8.5,11,"in"],["ansi-b",11,17,"in"],["ansi-c",17,22,"in"],["ansi-d",22,34,"in"],["ansi-e",34,44,"in"],["arch-a",9,12,"in"],["arch-b",12,18,"in"],["arch-c",18,24,"in"],["arch-d",24,36,"in"],["arch-e",36,48,"in"],["arch-e1",30,42,"in"],["arch-e2",26,38,"in"],["arch-e3",27,39,"in"]].reduce((function(t,e){var n={units:e[3]||"mm",dimensions:[e[1],e[2]]};return t[e[0]]=n,t[e[0].replace(/-/g," ")]=n,t}),{}),A=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},O=["mm","cm","m","pc","pt","in","ft","px"],I={m:{system:"metric",factor:1},cm:{system:"metric",factor:.01},mm:{system:"metric",factor:.001},pt:{system:"imperial",factor:1/72},pc:{system:"imperial",factor:1/6},in:{system:"imperial",factor:1},ft:{system:"imperial",factor:12}};const N={metric:{unit:"m",ratio:1/.0254},imperial:{unit:"in",ratio:.0254}};var L=function(t,e,n,i){if("number"!=typeof t||!isFinite(t))throw new Error("Value must be a finite number");if(!e||!n)throw new Error("Must specify from and to units");var r=A((i=i||{}).pixelsPerInch,96),o=i.precision,s=!1!==i.roundPixel;if(e=e.toLowerCase(),n=n.toLowerCase(),-1===O.indexOf(e))throw new Error('Invalid from unit "'+e+'", must be one of: '+O.join(", "));if(-1===O.indexOf(n))throw new Error('Invalid from unit "'+n+'", must be one of: '+O.join(", "));if(e===n)return t;var a=1,c=1,u=!1;"px"===e&&(c=1/r,e="in"),"px"===n&&(u=!0,a=r,n="in");var h=I[e],p=I[n],f=t*h.factor*c;h.system!==p.system&&(f*=N[h.system].ratio);var l=f/p.factor*a;return u&&s?l=Math.round(l):"number"==typeof o&&isFinite(o)&&(l=function(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)}(l,o)),l};function H(t,e,n,i){return void 0===e&&(e="px"),void 0===n&&(n="px"),void 0===i&&(i=72),L(t,e,n,{pixelsPerInch:i,precision:4,roundPixel:!0})}function z(t,e){var n,i,r,o,s,a,c=f(),u=e.dimensions,h=function(t){return!(!t.dimensions||"string"!=typeof t.dimensions&&!(Array.isArray(t.dimensions)&&t.dimensions.length>=2))}(e),l=t.exporting,d=!!h&&!1!==e.scaleToFit,m=!(!l&&h)||e.scaleToView;c||(d=m=!1);var y,g,v=e.units,w="number"==typeof e.pixelsPerInch&&isFinite(e.pixelsPerInch)?e.pixelsPerInch:72,b=p(e.bleed,0),x=c?window.devicePixelRatio:1,M=m?x:1;"number"==typeof e.pixelRatio&&isFinite(e.pixelRatio)?g=p(e.exportPixelRatio,y=e.pixelRatio):h?(y=M,g=p(e.exportPixelRatio,1)):g=p(e.exportPixelRatio,y=x),"number"==typeof e.maxPixelRatio&&isFinite(e.maxPixelRatio)&&(y=Math.min(e.maxPixelRatio,y)),l&&(y=g);var _,T,E=function(t,e){if(!f())return[300,150];var n=e.parent||window;if(n===window||n===document||n===document.body)return[window.innerWidth,window.innerHeight];var i=n.getBoundingClientRect();return[i.width,i.height]}(0,e),k=E[0],P=E[1];if(h){var F=function(t,e,n){if(void 0===e&&(e="px"),void 0===n&&(n=72),"string"==typeof t){var i=t.toLowerCase();if(!(i in D))throw new Error('The dimension preset "'+t+'" is not supported or could not be found; try using a4, a3, postcard, letter, etc.');var r=D[i];return r.dimensions.map((function(t){return H(t,r.units,e,n)}))}return t}(u,v,w),S=Math.max(F[0],F[1]),C=Math.min(F[0],F[1]);if(e.orientation){var R="landscape"===e.orientation;n=R?S:C,i=R?C:S}else n=F[0],i=F[1];_=n,T=i,n+=2*b,i+=2*b}else _=n=k,T=i=P;var j=n,A=i;if(h&&v&&(j=H(n,v,"px",w),A=H(i,v,"px",w)),r=Math.round(j),o=Math.round(A),d&&!l&&h){var O=n/i,I=k/P,N=p(e.scaleToFitPadding,40),L=Math.round(k-2*N),z=Math.round(P-2*N);(r>L||o>z)&&(I>O?(o=z,r=Math.round(o*O)):(r=L,o=Math.round(r/O)))}return{bleed:b,pixelRatio:y,width:n,height:i,dimensions:[n,i],units:v||"px",scaleX:(s=m?Math.round(y*r):Math.round(y*j))/n,scaleY:(a=m?Math.round(y*o):Math.round(y*A))/i,pixelsPerInch:w,viewportWidth:m?Math.round(r):Math.round(j),viewportHeight:m?Math.round(o):Math.round(A),canvasWidth:s,canvasHeight:a,trimWidth:_,trimHeight:T,styleWidth:r,styleHeight:o}}L.units=O;var U=function(t,e){if("string"!=typeof t)throw new TypeError("must specify type string");if(e=e||{},"undefined"==typeof document&&!e.canvas)return null;var n=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(n.width=e.width);"number"==typeof e.height&&(n.height=e.height);var i,r=e;try{var o=[t];0===t.indexOf("webgl")&&o.push("experimental-"+t);for(var s=0;s<o.length;s++)if(i=n.getContext(o[s],r))return i}catch(t){i=null}return i||null};function q(t){var e,n;void 0===t&&(t={});var i=!1;if(!1!==t.canvas){if(!(e=t.context)||"string"==typeof e){var o=t.canvas;o||(o=function(){if(!f())throw new Error("It appears you are runing from Node.js or a non-browser environment. Try passing in an existing { canvas } interface instead.");return document.createElement("canvas")}(),i=!0);var s=e||"2d";if("function"!=typeof o.getContext)throw new Error("The specified { canvas } element does not have a getContext() function, maybe it is not a <canvas> tag?");if(!(e=U(s,r({},t.attributes,{canvas:o}))))throw new Error("Failed at canvas.getContext('"+s+"') - the browser may not support this context, or a different context may already be in use with this canvas.")}if(n=e.canvas,t.canvas&&n!==t.canvas)throw new Error("The { canvas } and { context } settings must point to the same underlying canvas element");t.pixelated&&(e.imageSmoothingEnabled=!1,e.mozImageSmoothingEnabled=!1,e.oImageSmoothingEnabled=!1,e.webkitImageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1,n.style["image-rendering"]="pixelated")}return{canvas:n,context:e,ownsCanvas:i}}var W=function(){var t=this;this._settings={},this._props={},this._sketch=void 0,this._raf=null,this._recordTimeout=null,this._lastRedrawResult=void 0,this._isP5Resizing=!1,this._keyboardShortcuts=function(t){void 0===t&&(t={});var e=function(e){if(t.enabled()){var n=h();83!==e.keyCode||e.altKey||!e.metaKey&&!e.ctrlKey?32===e.keyCode?t.togglePlay(e):n&&!e.altKey&&75===e.keyCode&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),t.commit(e)):(e.preventDefault(),t.save(e))}};return{attach:function(){window.addEventListener("keydown",e)},detach:function(){window.removeEventListener("keydown",e)}}}({enabled:function(){return!1!==t.settings.hotkeys},save:function(e){e.shiftKey?t.props.recording?(t.endRecord(),t.run()):t.record():t.props.recording||t.exportFrame()},togglePlay:function(){t.props.playing?t.pause():t.play()},commit:function(e){t.exportFrame({commit:!0})}}),this._animateHandler=function(){return t.animate()},this._resizeHandler=function(){t.resize()&&t.render()}},Y={sketch:{configurable:!0},settings:{configurable:!0},props:{configurable:!0}};Y.sketch.get=function(){return this._sketch},Y.settings.get=function(){return this._settings},Y.props.get=function(){return this._props},W.prototype._computePlayhead=function(t,e){return"number"==typeof e&&isFinite(e)?t/e:0},W.prototype._computeFrame=function(t,e,n,i){return isFinite(n)&&n>1?Math.floor(t*(n-1)):Math.floor(i*e)},W.prototype._computeCurrentFrame=function(){return this._computeFrame(this.props.playhead,this.props.time,this.props.totalFrames,this.props.fps)},W.prototype._getSizeProps=function(){var t=this.props;return{width:t.width,height:t.height,pixelRatio:t.pixelRatio,canvasWidth:t.canvasWidth,canvasHeight:t.canvasHeight,viewportWidth:t.viewportWidth,viewportHeight:t.viewportHeight}},W.prototype.run=function(){if(!this.sketch)throw new Error("should wait until sketch is loaded before trying to play()");return!1!==this.settings.playing&&this.play(),"function"==typeof this.sketch.dispose&&console.warn("In canvas-sketch@0.0.23 the dispose() event has been renamed to unload()"),this.props.started||(this._signalBegin(),this.props.started=!0),this.tick(),this.render(),this},W.prototype._cancelTimeouts=function(){null!=this._raf&&"undefined"!=typeof window&&"function"==typeof window.cancelAnimationFrame&&(window.cancelAnimationFrame(this._raf),this._raf=null),null!=this._recordTimeout&&(clearTimeout(this._recordTimeout),this._recordTimeout=null)},W.prototype.play=function(){var t=this.settings.animate;"animation"in this.settings&&(t=!0,console.warn("[canvas-sketch] { animation } has been renamed to { animate }")),t&&(f()?this.props.playing||(this.props.started||(this._signalBegin(),this.props.started=!0),this.props.playing=!0,this._cancelTimeouts(),this._lastTime=a(),this._raf=window.requestAnimationFrame(this._animateHandler)):console.error("[canvas-sketch] WARN: Using { animate } in Node.js is not yet supported"))},W.prototype.pause=function(){this.props.recording&&this.endRecord(),this.props.playing=!1,this._cancelTimeouts()},W.prototype.togglePlay=function(){this.props.playing?this.pause():this.play()},W.prototype.stop=function(){this.pause(),this.props.frame=0,this.props.playhead=0,this.props.time=0,this.props.deltaTime=0,this.props.started=!1,this.render()},W.prototype.record=function(){var t=this;if(!this.props.recording)if(f()){this.stop(),this.props.playing=!0,this.props.recording=!0;var e=this._createExportOptions({sequence:!0}),n=1/this.props.fps;this._cancelTimeouts();var i,r=function(){return t.props.recording?(t.props.deltaTime=n,t.tick(),t.exportFrame(e).then((function(){t.props.recording&&(t.props.deltaTime=0,t.props.frame++,t.props.frame<t.props.totalFrames?(t.props.time+=n,t.props.playhead=t._computePlayhead(t.props.time,t.props.duration),t._recordTimeout=setTimeout(r,0)):(console.log("Finished recording"),t._signalEnd(),t.endRecord(),t.stop(),t.run()))}))):Promise.resolve()};this.props.started||(this._signalBegin(),this.props.started=!0),this.sketch&&"function"==typeof this.sketch.beginRecord&&this._wrapContextScale((function(e){return t.sketch.beginRecord(e)})),(i=e,void 0===i&&(i={}),k(!0,i)).catch((function(t){console.error(t)})).then((function(e){t._raf=window.requestAnimationFrame(r)}))}else console.error("[canvas-sketch] WARN: Recording from Node.js is not yet supported")},W.prototype._signalBegin=function(){var t=this;this.sketch&&"function"==typeof this.sketch.begin&&this._wrapContextScale((function(e){return t.sketch.begin(e)}))},W.prototype._signalEnd=function(){var t=this;this.sketch&&"function"==typeof this.sketch.end&&this._wrapContextScale((function(e){return t.sketch.end(e)}))},W.prototype.endRecord=function(){var t,e=this,n=this.props.recording;return this._cancelTimeouts(),this.props.recording=!1,this.props.deltaTime=0,this.props.playing=!1,(void 0===t&&(t={}),k(!1,t)).catch((function(t){console.error(t)})).then((function(){n&&e.sketch&&"function"==typeof e.sketch.endRecord&&e._wrapContextScale((function(t){return e.sketch.endRecord(t)}))}))},W.prototype._createExportOptions=function(t){return void 0===t&&(t={}),{sequence:t.sequence,save:t.save,fps:this.props.fps,frame:t.sequence?this.props.frame:void 0,file:this.settings.file,name:this.settings.name,prefix:this.settings.prefix,suffix:this.settings.suffix,encoding:this.settings.encoding,encodingQuality:this.settings.encodingQuality,timeStamp:t.timeStamp||v(new Date,"yyyy.mm.dd-HH.MM.ss"),totalFrames:isFinite(this.props.totalFrames)?Math.max(0,this.props.totalFrames):1e3}},W.prototype.exportFrame=function(t){var e=this;if(void 0===t&&(t={}),!this.sketch)return Promise.all([]);"function"==typeof this.sketch.preExport&&this.sketch.preExport();var n=this._createExportOptions(t),i=h(),o=Promise.resolve();if(i&&t.commit&&"function"==typeof i.commit){var s=r({},n),a=i.commit(s);o=c(a)?a:Promise.resolve(a)}return o.then((function(t){return e._doExportFrame(r({},n,{hash:t||""}))})).then((function(t){return 1===t.length?t[0]:t}))},W.prototype._doExportFrame=function(t){var e=this;void 0===t&&(t={}),this._props.exporting=!0,this.resize();var n=this.render();return void 0===n&&(n=[this.props.canvas]),n=(n=[].concat(n).filter(Boolean)).map((function(e){var n,i="object"==typeof e&&e&&("data"in e||"dataURL"in e),o=i?e.data:e,s=i?r({},e,{data:o}):{data:o};if(u(n=o)&&/canvas/i.test(n.nodeName)&&"function"==typeof n.getContext){var a=function(t,e){void 0===e&&(e={});var n=e.encoding||"image/png";if(!E.includes(n))throw new Error("Invalid canvas encoding "+n);var i=(n.split("/")[1]||"").replace(/jpeg/i,"jpg");return i&&(i=("."+i).toLowerCase()),{extension:i,type:n,dataURL:t.toDataURL(n,e.encodingQuality)}}(o,{encoding:s.encoding||t.encoding,encodingQuality:p(s.encodingQuality,t.encodingQuality,.95)});return Object.assign(s,{dataURL:a.dataURL,extension:a.extension,type:a.type})}return s})),this._props.exporting=!1,this.resize(),this.render(),Promise.all(n.map((function(e,n,i){var o=r({extension:"",prefix:"",suffix:""},t,e,{layer:n,totalLayers:i.length}),s=!1!==t.save&&e.save;for(var a in o.save=!1!==s,o.filename=S(o),delete o.encoding,delete o.encodingQuality,o)void 0===o[a]&&delete o[a];var c=Promise.resolve({});if(o.save){var u=o.data;if(o.dataURL)c=P(o.dataURL,o);else c=function(t,e){void 0===e&&(e={});var n=Array.isArray(t)?t:[t];return F(new window.Blob(n,{type:e.type||""}),e)}(u,o)}return c.then((function(t){return Object.assign({},o,t)}))}))).then((function(n){var i=n.filter((function(t){return t.save}));if(i.length>0){var r,o=i.find((function(t){return t.outputName})),s=i.some((function(t){return t.client})),a=i.some((function(t){return t.stream}));r=i.length>1?i.length:o?o.outputName+"/"+i[0].filename:""+i[0].filename;var c="";if(t.sequence)c=isFinite(e.props.totalFrames)?" (frame "+(t.frame+1)+" / "+e.props.totalFrames+")":" (frame "+t.frame+")";else i.length>1&&(c=" files");console.log("%c["+(s?"canvas-sketch-cli":"canvas-sketch")+"]%c "+(a?"Streaming into":"Exported")+" %c"+r+"%c"+c,"color: #8e8e8e;","color: initial;","font-weight: bold;","font-weight: initial;")}return"function"==typeof e.sketch.postExport&&e.sketch.postExport(),n}))},W.prototype._wrapContextScale=function(t){this._preRender(),t(this.props),this._postRender()},W.prototype._preRender=function(){var t=this.props;l(t.context)&&!t.p5?(t.context.save(),!1!==this.settings.scaleContext&&t.context.scale(t.scaleX,t.scaleY)):t.p5&&t.p5.scale(t.scaleX/t.pixelRatio,t.scaleY/t.pixelRatio)},W.prototype._postRender=function(){var t=this.props;l(t.context)&&!t.p5&&t.context.restore(),t.gl&&!1!==this.settings.flush&&!t.p5&&t.gl.flush()},W.prototype.tick=function(){this.sketch&&"function"==typeof this.sketch.tick&&(this._preRender(),this.sketch.tick(this.props),this._postRender())},W.prototype.render=function(){return this.props.p5?(this._lastRedrawResult=void 0,this.props.p5.redraw(),this._lastRedrawResult):this.submitDrawCall()},W.prototype.submitDrawCall=function(){if(this.sketch){var t,e=this.props;return this._preRender(),"function"==typeof this.sketch?t=this.sketch(e):"function"==typeof this.sketch.render&&(t=this.sketch.render(e)),this._postRender(),t}},W.prototype.update=function(t){var e=this;void 0===t&&(t={});var n=["animate"];Object.keys(t).forEach((function(t){if(n.indexOf(t)>=0)throw new Error("Sorry, the { "+t+" } option is not yet supported with update().")}));var i=this._settings.canvas,r=this._settings.context;for(var o in t){var s=t[o];void 0!==s&&(e._settings[o]=s)}var a=Object.assign({},this._settings,t);if("time"in t&&"frame"in t)throw new Error("You should specify { time } or { frame } but not both");if("time"in t?delete a.frame:"frame"in t&&delete a.time,"duration"in t&&"totalFrames"in t)throw new Error("You should specify { duration } or { totalFrames } but not both");"duration"in t?delete a.totalFrames:"totalFrames"in t&&delete a.duration,"data"in t&&(this._props.data=t.data);var c=this.getTimeProps(a);if(Object.assign(this._props,c),i!==this._settings.canvas||r!==this._settings.context){var u=q(this._settings),h=u.context;this.props.canvas=u.canvas,this.props.context=h,this._setupGLKey(),this._appendCanvasIfNeeded()}return t.p5&&"function"!=typeof t.p5&&(this.props.p5=t.p5,this.props.p5.draw=function(){e._isP5Resizing||(e._lastRedrawResult=e.submitDrawCall())}),"playing"in t&&(t.playing?this.play():this.pause()),j(this._settings),this.resize(),this.render(),this.props},W.prototype.resize=function(){var t=this._getSizeProps(),e=this.settings,n=this.props,i=z(n,e);Object.assign(this._props,i);var r=this.props,o=r.pixelRatio,s=r.canvasWidth,a=r.canvasHeight,c=r.styleWidth,u=r.styleHeight,h=this.props.canvas;h&&!1!==e.resizeCanvas&&(n.p5?h.width===s&&h.height===a||(this._isP5Resizing=!0,n.p5.pixelDensity(o),n.p5.resizeCanvas(s/o,a/o,!1),this._isP5Resizing=!1):(h.width!==s&&(h.width=s),h.height!==a&&(h.height=a)),f()&&!1!==e.styleCanvas&&(h.style.width=c+"px",h.style.height=u+"px"));var p=this._getSizeProps(),l=!g(t,p);return l&&this._sizeChanged(),l},W.prototype._sizeChanged=function(){this.sketch&&"function"==typeof this.sketch.resize&&this.sketch.resize(this.props)},W.prototype.animate=function(){if(this.props.playing)if(f()){this._raf=window.requestAnimationFrame(this._animateHandler);var t=a(),e=1e3/this.props.fps,n=t-this._lastTime,i=this.props.duration,r="number"==typeof i&&isFinite(i),o=!0,s=this.settings.playbackRate;"fixed"===s?n=e:"throttle"===s?n>e?this._lastTime=t-=n%e:o=!1:this._lastTime=t;var c=n/1e3,u=this.props.time+c*this.props.timeScale;u<0&&r&&(u=i+u);var h=!1,p=!1;if(r&&u>=i&&(!1!==this.settings.loop?(o=!0,u%=i,p=!0):(o=!1,u=i,h=!0),this._signalEnd()),o){this.props.deltaTime=c,this.props.time=u,this.props.playhead=this._computePlayhead(u,i);var l=this.props.frame;this.props.frame=this._computeCurrentFrame(),p&&this._signalBegin(),l!==this.props.frame&&this.tick(),this.render(),this.props.deltaTime=0}h&&this.pause()}else console.error("[canvas-sketch] WARN: Animation in Node.js is not yet supported")},W.prototype.dispatch=function(t){if("function"!=typeof t)throw new Error("must pass function into dispatch()");t(this.props),this.render()},W.prototype.mount=function(){this._appendCanvasIfNeeded()},W.prototype.unmount=function(){f()&&(window.removeEventListener("resize",this._resizeHandler),this._keyboardShortcuts.detach()),this.props.canvas.parentElement&&this.props.canvas.parentElement.removeChild(this.props.canvas)},W.prototype._appendCanvasIfNeeded=function(){f()&&(!1!==this.settings.parent&&this.props.canvas&&!this.props.canvas.parentElement&&(this.settings.parent||document.body).appendChild(this.props.canvas))},W.prototype._setupGLKey=function(){var t;this.props.context&&((t=this.props.context)&&"function"==typeof t.clear&&"function"==typeof t.clearColor&&"function"==typeof t.bufferData?this._props.gl=this.props.context:delete this._props.gl)},W.prototype.getTimeProps=function(t){void 0===t&&(t={});var e=t.duration,n=t.totalFrames,i=p(t.timeScale,1),r=p(t.fps,24),o="number"==typeof e&&isFinite(e),s="number"==typeof n&&isFinite(n),a=o?Math.floor(r*e):void 0,c=s?n/r:void 0;if(o&&s&&a!==n)throw new Error("You should specify either duration or totalFrames, but not both. Or, they must match exactly.");void 0===t.dimensions&&void 0!==t.units&&console.warn("You've specified a { units } setting but no { dimension }, so the units will be ignored."),n=p(n,a,Infinity),e=p(e,c,Infinity);var u=t.time,h=t.frame,f="number"==typeof u&&isFinite(u),l="number"==typeof h&&isFinite(h),d=0,m=0,y=0;if(f&&l)throw new Error("You should specify either start frame or time, but not both.");return f?(y=this._computePlayhead(d=u,e),m=this._computeFrame(y,d,n,r)):l&&(y=this._computePlayhead(d=(m=h)/r,e)),{playhead:y,time:d,frame:m,duration:e,totalFrames:n,fps:r,timeScale:i}},W.prototype.setup=function(t){var e=this;if(void 0===t&&(t={}),this.sketch)throw new Error("Multiple setup() calls not yet supported.");this._settings=Object.assign({},t,this._settings),j(this._settings);var n=q(this._settings),i=n.context,r=n.canvas,o=this.getTimeProps(this._settings);this._props=Object.assign({},o,{canvas:r,context:i,deltaTime:0,started:!1,exporting:!1,playing:!1,recording:!1,settings:this.settings,data:this.settings.data,render:function(){return e.render()},togglePlay:function(){return e.togglePlay()},dispatch:function(t){return e.dispatch(t)},tick:function(){return e.tick()},resize:function(){return e.resize()},update:function(t){return e.update(t)},exportFrame:function(t){return e.exportFrame(t)},record:function(){return e.record()},play:function(){return e.play()},pause:function(){return e.pause()},stop:function(){return e.stop()}}),this._setupGLKey(),this.resize()},W.prototype.loadAndRun=function(t,e){var n=this;return this.load(t,e).then((function(){return n.run(),n}))},W.prototype.unload=function(){var t=this;this.pause(),this.sketch&&("function"==typeof this.sketch.unload&&this._wrapContextScale((function(e){return t.sketch.unload(e)})),this._sketch=null)},W.prototype.destroy=function(){this.unload(),this.unmount()},W.prototype.load=function(t,e){var n=this;if("function"!=typeof t)throw new Error("The function must take in a function as the first parameter. Example:\n  canvasSketcher(() => { ... }, settings)");this.sketch&&this.unload(),void 0!==e&&this.update(e),this._preRender();var i=Promise.resolve();if(this.settings.p5){if(!f())throw new Error("[canvas-sketch] ERROR: Using p5.js in Node.js is not supported");i=new Promise((function(t){var e,i=n.settings.p5;i.p5&&(e=i.preload,i=i.p5);var r=function(i){e&&(i.preload=function(){return e(i)}),i.setup=function(){var e=n.props,r="webgl"===n.settings.context,o=r?i.WEBGL:i.P2D;i.noLoop(),i.pixelDensity(e.pixelRatio),i.createCanvas(e.viewportWidth,e.viewportHeight,o),r&&n.settings.attributes&&i.setAttributes(n.settings.attributes),n.update({p5:i,canvas:i.canvas,context:i._renderer.drawingContext}),t()}};if("function"==typeof i)new i(r);else{if("function"!=typeof window.createCanvas)throw new Error("{ p5 } setting is passed but can't find p5.js in global (window) scope. Maybe you did not create it globally?\nnew p5(); // <-- attaches to global scope");r(window)}}))}return i.then((function(){var e=t(n.props);return c(e)||(e=Promise.resolve(e)),e})).then((function(t){return t||(t={}),n._sketch=t,f()&&(n._keyboardShortcuts.attach(),window.addEventListener("resize",n._resizeHandler)),n._postRender(),n._sizeChanged(),n})).catch((function(t){throw console.warn("Could not start sketch, the async loading function rejected with an error:\n    Error: "+t.message),t}))},Object.defineProperties(W.prototype,Y);var B="hot-id-cache",G=[];function K(t,e){if(void 0===e&&(e={}),e.p5){if(e.canvas||e.context&&"string"!=typeof e.context)throw new Error('In { p5 } mode, you can\'t pass your own canvas or context, unless the context is a "webgl" or "2d" string');e=Object.assign({},e,{canvas:!1,context:"string"==typeof e.context&&e.context})}var n,i,r=(n=h())&&n.hot;r&&(i=p(e.id,"$__DEFAULT_CANVAS_SKETCH_ID__$"));var o=r&&"string"==typeof i;o&&G.includes(i)&&(console.warn("Warning: You have multiple calls to canvasSketch() in --hot mode. You must pass unique { id } strings in settings to enable hot reload across multiple sketches. ",i),o=!1);var s=Promise.resolve();if(o){G.push(i);var a=function(t){var e=h();if(e)return e[B]=e[B]||{},e[B][t]}(i);if(a){var c=function(){var t,n=(t=a.manager,e.animate?{time:t.props.time}:void 0);return a.manager.destroy(),n};s=a.load.then(c).catch(c)}}return s.then((function(n){var r,s=new W;return t?(e=Object.assign({},e,n),s.setup(e),s.mount(),r=s.loadAndRun(t)):r=Promise.resolve(s),o&&function(t,e){var n=h();n&&(n[B]=n[B]||{},n[B][t]=e)}(i,{load:r,manager:s}),r}))}return K.canvasSketch=K,K.PaperSizes=D,K}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(t,e,n){"use strict";e.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},{}],7:[function(t,e,n){(function(t){(function(){"use strict";var n=256,i=6,r=[],o=void 0===t?window:t,s=Math.pow(n,i),a=Math.pow(2,52),c=2*a,u=n-1,h=Math.random;function p(t){var e,i=t.length,r=this,o=0,s=r.i=r.j=0,a=r.S=[];for(i||(t=[i++]);o<n;)a[o]=o++;for(o=0;o<n;o++)a[o]=a[s=u&s+t[o%i]+(e=a[o])],a[s]=e;(r.g=function(t){for(var e,i=0,o=r.i,s=r.j,a=r.S;t--;)e=a[o=u&o+1],i=i*n+a[u&(a[o]=a[s=u&s+e])+(a[s]=e)];return r.i=o,r.j=s,i})(n)}function f(t,e){var n,i=[],r=(typeof t)[0];if(e&&"o"==r)for(n in t)try{i.push(f(t[n],e-1))}catch(t){}return i.length?i:"s"==r?t:t+"\0"}function l(t,e){for(var n,i=t+"",r=0;r<i.length;)e[u&r]=u&(n^=19*e[u&r])+i.charCodeAt(r++);return d(e)}function d(t){return String.fromCharCode.apply(0,t)}e.exports=function(t,u){if(u&&!0===u.global)return u.global=!1,Math.random=e.exports(t,u),u.global=!0,Math.random;var h=[],m=(l(f(u&&u.entropy||!1?[t,d(r)]:0 in arguments?t:function(t){try{return o.crypto.getRandomValues(t=new Uint8Array(n)),d(t)}catch(t){return[+new Date,o,o.navigator&&o.navigator.plugins,o.screen,d(r)]}}(),3),h),new p(h));return l(d(m.S),r),function(){for(var t=m.g(i),e=s,r=0;t<a;)t=(t+r)*n,e*=n,r=m.g(1);for(;t>=c;)t/=2,e/=2,r>>>=1;return(t+r)/e}},e.exports.resetGlobal=function(){Math.random=h},l(Math.random(),r)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,e,n){!function(){"use strict";var t=.5*(Math.sqrt(3)-1),i=(3-Math.sqrt(3))/6,r=1/6,o=(Math.sqrt(5)-1)/4,s=(5-Math.sqrt(5))/20;function a(t){var e;e="function"==typeof t?t:t?function(){var t=0,e=0,n=0,i=1,r=(o=4022871197,function(t){t=t.toString();for(var e=0;e<t.length;e++){var n=.02519603282416938*(o+=t.charCodeAt(e));n-=o=n>>>0,o=(n*=o)>>>0,o+=4294967296*(n-=o)}return 2.3283064365386963e-10*(o>>>0)});var o;t=r(" "),e=r(" "),n=r(" ");for(var s=0;s<arguments.length;s++)(t-=r(arguments[s]))<0&&(t+=1),(e-=r(arguments[s]))<0&&(e+=1),(n-=r(arguments[s]))<0&&(n+=1);return r=null,function(){var r=2091639*t+2.3283064365386963e-10*i;return t=e,e=n,n=r-(i=0|r)}}(t):Math.random,this.p=c(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var n=0;n<512;n++)this.perm[n]=this.p[255&n],this.permMod12[n]=this.perm[n]%12}function c(t){var e,n=new Uint8Array(256);for(e=0;e<256;e++)n[e]=e;for(e=0;e<255;e++){var i=e+~~(t()*(256-e)),r=n[e];n[e]=n[i],n[i]=r}return n}a.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(e,n){var r,o,s=this.permMod12,a=this.perm,c=this.grad3,u=0,h=0,p=0,f=(e+n)*t,l=Math.floor(e+f),d=Math.floor(n+f),m=(l+d)*i,y=e-(l-m),g=n-(d-m);y>g?(r=1,o=0):(r=0,o=1);var v=y-r+i,w=g-o+i,b=y-1+2*i,x=g-1+2*i,M=255&l,_=255&d,T=.5-y*y-g*g;if(T>=0){var E=3*s[M+a[_]];u=(T*=T)*T*(c[E]*y+c[E+1]*g)}var k=.5-v*v-w*w;if(k>=0){var P=3*s[M+r+a[_+o]];h=(k*=k)*k*(c[P]*v+c[P+1]*w)}var F=.5-b*b-x*x;if(F>=0){var S=3*s[M+1+a[_+1]];p=(F*=F)*F*(c[S]*b+c[S+1]*x)}return 70*(u+h+p)},noise3D:function(t,e,n){var i,o,s,a,c,u,h,p,f,l,d=this.permMod12,m=this.perm,y=this.grad3,g=.3333333333333333*(t+e+n),v=Math.floor(t+g),w=Math.floor(e+g),b=Math.floor(n+g),x=(v+w+b)*r,M=t-(v-x),_=e-(w-x),T=n-(b-x);M>=_?_>=T?(c=1,u=0,h=0,p=1,f=1,l=0):M>=T?(c=1,u=0,h=0,p=1,f=0,l=1):(c=0,u=0,h=1,p=1,f=0,l=1):_<T?(c=0,u=0,h=1,p=0,f=1,l=1):M<T?(c=0,u=1,h=0,p=0,f=1,l=1):(c=0,u=1,h=0,p=1,f=1,l=0);var E=M-c+r,k=_-u+r,P=T-h+r,F=M-p+2*r,S=_-f+2*r,C=T-l+2*r,R=M-1+.5,j=_-1+.5,D=T-1+.5,A=255&v,O=255&w,I=255&b,N=.6-M*M-_*_-T*T;if(N<0)i=0;else{var L=3*d[A+m[O+m[I]]];i=(N*=N)*N*(y[L]*M+y[L+1]*_+y[L+2]*T)}var H=.6-E*E-k*k-P*P;if(H<0)o=0;else{var z=3*d[A+c+m[O+u+m[I+h]]];o=(H*=H)*H*(y[z]*E+y[z+1]*k+y[z+2]*P)}var U=.6-F*F-S*S-C*C;if(U<0)s=0;else{var q=3*d[A+p+m[O+f+m[I+l]]];s=(U*=U)*U*(y[q]*F+y[q+1]*S+y[q+2]*C)}var W=.6-R*R-j*j-D*D;if(W<0)a=0;else{var Y=3*d[A+1+m[O+1+m[I+1]]];a=(W*=W)*W*(y[Y]*R+y[Y+1]*j+y[Y+2]*D)}return 32*(i+o+s+a)},noise4D:function(t,e,n,i){var r,a,c,u,h,p,f,l,d,m,y,g,v,w,b,x,M,_=this.perm,T=this.grad4,E=(t+e+n+i)*o,k=Math.floor(t+E),P=Math.floor(e+E),F=Math.floor(n+E),S=Math.floor(i+E),C=(k+P+F+S)*s,R=t-(k-C),j=e-(P-C),D=n-(F-C),A=i-(S-C),O=0,I=0,N=0,L=0;R>j?O++:I++,R>D?O++:N++,R>A?O++:L++,j>D?I++:N++,j>A?I++:L++,D>A?N++:L++;var H=R-(p=O>=3?1:0)+s,z=j-(f=I>=3?1:0)+s,U=D-(l=N>=3?1:0)+s,q=A-(d=L>=3?1:0)+s,W=R-(m=O>=2?1:0)+2*s,Y=j-(y=I>=2?1:0)+2*s,B=D-(g=N>=2?1:0)+2*s,G=A-(v=L>=2?1:0)+2*s,K=R-(w=O>=1?1:0)+3*s,Q=j-(b=I>=1?1:0)+3*s,$=D-(x=N>=1?1:0)+3*s,X=A-(M=L>=1?1:0)+3*s,Z=R-1+4*s,J=j-1+4*s,V=D-1+4*s,tt=A-1+4*s,et=255&k,nt=255&P,it=255&F,rt=255&S,ot=.6-R*R-j*j-D*D-A*A;if(ot<0)r=0;else{var st=_[et+_[nt+_[it+_[rt]]]]%32*4;r=(ot*=ot)*ot*(T[st]*R+T[st+1]*j+T[st+2]*D+T[st+3]*A)}var at=.6-H*H-z*z-U*U-q*q;if(at<0)a=0;else{var ct=_[et+p+_[nt+f+_[it+l+_[rt+d]]]]%32*4;a=(at*=at)*at*(T[ct]*H+T[ct+1]*z+T[ct+2]*U+T[ct+3]*q)}var ut=.6-W*W-Y*Y-B*B-G*G;if(ut<0)c=0;else{var ht=_[et+m+_[nt+y+_[it+g+_[rt+v]]]]%32*4;c=(ut*=ut)*ut*(T[ht]*W+T[ht+1]*Y+T[ht+2]*B+T[ht+3]*G)}var pt=.6-K*K-Q*Q-$*$-X*X;if(pt<0)u=0;else{var ft=_[et+w+_[nt+b+_[it+x+_[rt+M]]]]%32*4;u=(pt*=pt)*pt*(T[ft]*K+T[ft+1]*Q+T[ft+2]*$+T[ft+3]*X)}var lt=.6-Z*Z-J*J-V*V-tt*tt;if(lt<0)h=0;else{var dt=_[et+1+_[nt+1+_[it+1+_[rt+1]]]]%32*4;h=(lt*=lt)*lt*(T[dt]*Z+T[dt+1]*J+T[dt+2]*V+T[dt+3]*tt)}return 27*(r+a+c+u+h)}},a._buildPermutationTable=c,"undefined"!=typeof define&&define.amd&&define((function(){return a})),void 0!==n?n.SimplexNoise=a:"undefined"!=typeof window&&(window.SimplexNoise=a),void 0!==e&&(e.exports=a)}()},{}],9:[function(t,e,n){(function(t){(function(){t.CANVAS_SKETCH_DEFAULT_STORAGE_KEY=window.location.href}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1,9]);
//# sourceMappingURL=cenobite.js.map
